<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>HVD: hvd_config Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">HVD
   </div>
   <div id="projectbrief">HVD Hardware Video Decoder library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('structhvd__config.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">hvd_config Struct Reference<div class="ingroups"><a class="el" href="group__interface.html">Public interface</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Decoder configuration.  
 <a href="structhvd__config.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="hvd_8h_source.html">hvd.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:ad8881485cbddfcdaa6221e61a3564593"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad8881485cbddfcdaa6221e61a3564593"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhvd__config.html#ad8881485cbddfcdaa6221e61a3564593">hardware</a></td></tr>
<tr class="memdesc:ad8881485cbddfcdaa6221e61a3564593"><td class="mdescLeft">&#160;</td><td class="mdescRight">hardware type for decoding, e.g. "vaapi" <br /></td></tr>
<tr class="separator:ad8881485cbddfcdaa6221e61a3564593"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9467850a2fe399064cf2abf5eca2f64"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad9467850a2fe399064cf2abf5eca2f64"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhvd__config.html#ad9467850a2fe399064cf2abf5eca2f64">codec</a></td></tr>
<tr class="memdesc:ad9467850a2fe399064cf2abf5eca2f64"><td class="mdescLeft">&#160;</td><td class="mdescRight">codec name, e.g. "h264", "vp8" <br /></td></tr>
<tr class="separator:ad9467850a2fe399064cf2abf5eca2f64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8059c3b19eb356cf729e5d25b139647e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8059c3b19eb356cf729e5d25b139647e"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhvd__config.html#a8059c3b19eb356cf729e5d25b139647e">device</a></td></tr>
<tr class="memdesc:a8059c3b19eb356cf729e5d25b139647e"><td class="mdescLeft">&#160;</td><td class="mdescRight">NULL / "" or device, e.g. "/dev/dri/renderD128". <br /></td></tr>
<tr class="separator:a8059c3b19eb356cf729e5d25b139647e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c4e623125f1ef985a5c7e07851ade31"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7c4e623125f1ef985a5c7e07851ade31"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhvd__config.html#a7c4e623125f1ef985a5c7e07851ade31">pixel_format</a></td></tr>
<tr class="memdesc:a7c4e623125f1ef985a5c7e07851ade31"><td class="mdescLeft">&#160;</td><td class="mdescRight">NULL / "" for default or format, e.g. "rgb0", "bgr0", "nv12", "yuv420p". <br /></td></tr>
<tr class="separator:a7c4e623125f1ef985a5c7e07851ade31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2474a5474cbff19523a51eb1de01cda4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2474a5474cbff19523a51eb1de01cda4"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhvd__config.html#a2474a5474cbff19523a51eb1de01cda4">width</a></td></tr>
<tr class="memdesc:a2474a5474cbff19523a51eb1de01cda4"><td class="mdescLeft">&#160;</td><td class="mdescRight">0 to not specify, needed by some codecs <br /></td></tr>
<tr class="separator:a2474a5474cbff19523a51eb1de01cda4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad12fc34ce789bce6c8a05d8a17138534"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad12fc34ce789bce6c8a05d8a17138534"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhvd__config.html#ad12fc34ce789bce6c8a05d8a17138534">height</a></td></tr>
<tr class="memdesc:ad12fc34ce789bce6c8a05d8a17138534"><td class="mdescLeft">&#160;</td><td class="mdescRight">0 to not specify, needed by some codecs <br /></td></tr>
<tr class="separator:ad12fc34ce789bce6c8a05d8a17138534"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41cdb4a229a3d71837d607124f8a07a4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a41cdb4a229a3d71837d607124f8a07a4"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhvd__config.html#a41cdb4a229a3d71837d607124f8a07a4">profile</a></td></tr>
<tr class="memdesc:a41cdb4a229a3d71837d607124f8a07a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">0 to leave as FF_PROFILE_UNKNOWN or profile e.g. FF_PROFILE_HEVC_MAIN, ... <br /></td></tr>
<tr class="separator:a41cdb4a229a3d71837d607124f8a07a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Decoder configuration. </p>
<p>The hardware can be one of:</p><ul>
<li>vaapi</li>
<li>vdpau</li>
<li>dxva2</li>
<li>d3d11va</li>
<li>videotoolbox</li>
</ul>
<p>The device can be:</p><ul>
<li>NULL (select automatically)</li>
<li>point to valid device e.g. "/dev/dri/renderD128" for vaapi</li>
</ul>
<p>The codec (should be supported by your hardware):</p><ul>
<li>h264</li>
<li>hevc</li>
<li>vp8</li>
<li>vp9</li>
<li>...</li>
</ul>
<p>The pixel_format is format you want to receive data in. Only hardware conversions are supported. If you select something unsupported by hardware, the library will dump for you list of supported pixel formats to standard error. From my experience even those reported are not supported in all scenarios.</p>
<p>Typical examples:</p><ul>
<li>nv12</li>
<li>yuv420p (this is generally safe choice)</li>
<li>rgb0</li>
<li>bgr0</li>
<li>...</li>
</ul>
<p>For pixel format explanation see: <a href="https://ffmpeg.org/doxygen/3.4/pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5">FFmpeg pixel formats</a></p>
<p>You typically don't have to specify width, height and profile (leave as 0) but some codecs need this information.</p>
<p>For width and height the decoder may overwrite your values while parsing the data. It is not safe to assume that width/height of decoded frame matches what you supplied.</p>
<p>For possible profiles see: <a href="https://ffmpeg.org/doxygen/3.4/avcodec_8h.html#ab424d258655424e4b1690e2ab6fcfc66">FFmpeg profiles</a></p>
<p>For H.264 profile can typically be:</p><ul>
<li>FF_PROFILE_H264_CONSTRAINED_BASELINE</li>
<li>FF_PROFILE_H264_MAIN</li>
<li>FF_PROFILE_H264_HIGH</li>
<li>...</li>
</ul>
<p>For HEVC profile can typically be:</p><ul>
<li>FF_PROFILE_HEVC_MAIN</li>
<li>FF_PROFILE_HEVC_MAIN_10 (10 bit channel precision)</li>
<li>...</li>
</ul>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__interface.html#ga180a4a30d02ba0af90a5929c32735e0e" title="Initialize internal library data. ">hvd_init</a> </dd></dl>
</div><hr/>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="hvd_8h_source.html">hvd.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="structhvd__config.html">hvd_config</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
